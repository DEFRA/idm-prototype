{% extends "layout.html" %}

{% set title = "Intermediary" %}

{% block pageTitle %}
    Intermediary - [First name] [Surname] - GOV.UK
{% endblock %}

{% block beforeContent %}
<div id="profile">
  {% include "includes/account-nav-admin-corp.html" %}
  {% include "includes/breadcrumb-four-level-agent.html" %}
</div>
{% endblock %}

{% block content %}

<div class="govuk-grid-row">
  <div class="govuk-grid-column-full">
    <h1 class="govuk-heading-xl">
      Bob Holmness
    </h1>


    {% if data['subscribeService'] == "Yes" %}
    {% else %}

        <p class="govuk-body">Bob has completed the registration process ready to use our online services.</p>
        <p class="govuk-body">You should now choose what information and tasks you would like this person to see and do.</p>
        <hr class="govuk-section-break--s">
        <br>
    {% endif %}

  </div>
</div>

<div class="govuk-grid-row">
  <div class="govuk-grid-column-one-half">
    <p class="govuk-body">
      <span class="govuk-!-font-weight-bold">Email address:</span> bob-holmness@email.com<br>
      <span class="govuk-!-font-weight-bold">Telephone number:</span> 07846959366
    </p>
  </div>
  <div class="govuk-grid-column-one-half">
    <p class="govuk-body"><a href="" class="govuk-link--no-visited-state">Reset password</a></p>
  </div>
</div>

<div class="govuk-grid-row">
  <div class="govuk-grid-column-one-half">
    <p class="govuk-body">
      <span class="govuk-!-font-weight-bold">Account:</span> Acme Org<br>
      <span class="govuk-!-font-weight-bold">Account access level:</span> Standard user
    </p>
  </div>
  <div class="govuk-grid-column-one-half">
  </div>
</div>

<br>



<!-- Show table if the user has subscribed to one service -->
<!-- Show table if the user has subscribed to one service -->


  {% if (data['service'] == "Imports") %}
    {{ govukButton({
      text: "Give service access",
      href: "/manage/team-members/invite-user/imports/add-user-service?subscribeService=Yes&serviceRole=Standard&userType=inviteAgent&name=Bob Holmness"
    }) }}
  {% endif %}

  {% if (data['service'] == "Chemicals") %}
    {{ govukButton({
      text: "Give service access",
      href: "/manage/team-members/invite-user/chemicals/add-user-service?subscribeService=Yes&serviceRole=Standard&userType=invitedAgent&name=Bob Holmness"
    }) }}
  {% endif %}

  {% if (data['service'] == "VMD") %}
    {{ govukButton({
      text: "Give service access",
      href: "/manage/team-members/invite-user/vmd/add-user-service?subscribeService=Yes&serviceRole=Standard&userType=invitedAgent&name=Bob Holmness"
    }) }}
    {% endif %}

    {% if (data['service'] == "Exports") %}
      {{ govukButton({
        text: "Give service access",
        href: "/manage/team-members/invite-user/exports/add-user-service?subscribeService=Yes&serviceRole=Standard&userType=invitedAgent&name=Bob Holmness"
      }) }}
    {% endif %}

{% if data['subscribeService'] == "Yes" %}

    {% set setServiceNameHtml %}
        <span class="govuk-visually-hidden--desktop td-header">Service:</span> {{ data['serviceLine'] }}
    {% endset %}

    {% set setOrgHtml %}
        <span class="govuk-visually-hidden--desktop td-header">Organisation:</span> Acme Org
    {% endset %}

    {% set setServiceRoleHtml %}
        <span class="govuk-visually-hidden--desktop td-header">Access level: </span> {{ data['serviceRole'] }}
    {% endset %}

    {{ govukTable({
      caption: "Service access for Acme Org",
      captionClasses: "govuk-heading-l",
      firstCellIsHeader: false,
      head: [
        {
          html: 'Service',
          format: 'column-third column-full'

        },
        {
          html: 'Role',
          format: 'column-third column-full'

        },
        {
          html: '<span class="govuk-visually-hidden column-full">Action</span>',
          format: ''
        },
        {
          html: '<span class="govuk-visually-hidden column-full">Action</span>',
          format: ''
        }
      ],
      rows: [
      [
        {
          html: setServiceNameHtml
        },
        {
          html: setServiceRoleHtml
        },
        {
          html: ''
        },
        {
          html: '<span class="govuk-visually-hidden--desktop td-header">Action:</span> <a href="edit-user-remove-access-confirm" class="govuk-link--no-visited-state">Remove access <span class="govuk-visually-hidden">to [Service name]</span></a>'
        }
      ]
      ]
    }) }}


  <div class="govuk-card__content">
    <h2 class="govuk-heading-m">Link to services</h2>

    <div class="govuk-grid-row">

      <div class="govuk-grid-column-one-third">
        <div class="govuk-card govuk-card--contained govuk-card--selectable">
          <a href="/service-start-complete?service=Chemicals&userType=new-complete-admin&serviceLine=Comply with REACH IT"></a>
            <div class="govuk-card__content">
              <h3 class="govuk-heading-m">{{ data['serviceLine'] }}</h3>
              <!--
              <p class="govuk-body">A short summary of the tasks you can complete with this service.
              </p>
            -->
            </div>
          </div>
      </div>

    </div>
  </div>

{% endif %}


{% endblock %}
