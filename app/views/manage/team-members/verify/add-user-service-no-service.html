{% extends "layout.html" %}

{% set title = "You do not have access to the service required" %}

{% block pageTitle %}
    {{title}} - GOV.UK
{% endblock %}

{% block beforeContent %}
  {{ govukBackLink({
    text: "Back",
    href: "javascript:history.back()"
  }) }}
{% endblock %}

{% block content %}

<div class="govuk-grid-row">
  <div class="govuk-grid-column-two-thirds">

    <form class="add-user-roles" onsubmit="return myFunction()" method="post">
      <script>
        const form = document.querySelector('.add-user-roles')

        function myFunction() {
          const checked = document.querySelector('[name="serviceLine"]:checked')
          const checkedValue = checked.value

          switch(checkedValue){
            case 'Comply with UK REACH':
            form.action = '../invite-user/chemicals/add-user-roles-service-roles'

            break;
            case 'Apply for Export Catch Certificate':
            form.action = '../invite-user/exports/add-user-roles-service-roles'

            break;
            case 'VMD Secure Messaging':
            form.action = '../invite-user/enrollment-confirmation?serviceRole=Standard user'

            break;
            case 'IPAFFS':
            form.action = '../invite-user/enrollment-confirmation?serviceRole=Standard user'

            break;
            case 'None':
            form.action = 'enrollment-no-service-confirmation'
          }
          return true
        }
      </script>

      <h1 class="govuk-heading-xl">{{title}}</h1>
      <p class="govuk-body">You do not have access to the service that {{ data['name'] }} has reqested.</p>

      <p class="govuk-body">You can assign them as an Admin for this [organisation name] so they can register for the service themselves.</p>

      <p class="govuk-body">Or you can assign them as a Standard user for this account and register for the service yourself.</p>

      <!--  {{ govukRadios({
          idPrefix: "serviceLine",
          name: "serviceLine",
          fieldset: {
            legend: {
              text: title,
              isPageHeading: false,
              classes: "govuk-fieldset__legend--xl"
            }
          },
          hint: {
            text: "Please refer to the email that you received regarding the service request for Tiegan Mole."
          },
          items: [

            {
              value: "Comply with UK REACH",
              html: 'Comply with UK REACH',
              checked:  checked('serviceLine','Comply with UK REACH')
            },
            {
              value: "Apply for Export Catch Certificate",
              html: 'Apply for Export Catch Certificate',
              checked:  checked('serviceLine','Apply for Export Catch Certificate')
            },
            {
              value: "VMD Secure Messaging",
              html: 'VMD Secure Messaging',
              checked:  checked('serviceLine','VMD Secure Messaging')
            },
            {
              value: "IPAFFS",
              html: 'IPAFFS',
              checked:  checked('serviceLine','IPAFFS')
            },
            {
              value: "None",
              html: 'I do not have access to the service this person wants',
              checked:  checked('serviceLine','None')
            }
          ]
        }) }}

        -->

        {{ govukButton({
          text: "Continue",
          href: "enrollment-no-service-confirmation"
        }) }}



      </form>
    </div>
  </div>




{% endblock %}
