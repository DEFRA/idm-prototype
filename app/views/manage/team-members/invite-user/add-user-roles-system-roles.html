{% extends "layout.html" %}

{% set title = "Do you want to give this person any administrator responsibilities for your organisation?" %}

{% block pageTitle %}
    {{title}} - GOV.UK
{% endblock %}

{% block beforeContent %}
  {{ govukBackLink({
    text: "Back",
    href: "javascript:history.back()"
  }) }}
{% endblock %}

{% block content %}

<div class="govuk-grid-row">
  <div class="govuk-grid-column-two-thirds">

    <!-- Decides where Continue button goes according to the service and number of services-->
    {% if (data['numServices'] == 1) and (data['service'] == "Imports") %}
      {% set continueURL = "/manage/team-members/invite-user/enrollment-confirmation" %}
    {% endif %}

    {% if (data['numServices'] == 3) and (data['service'] == "Imports") %}
      {% set continueURL = "/manage/team-members/invite-user/imports/add-user-service" %}
    {% endif %}

    {% if (data['numServices'] == 1) and (data['service'] == "Chemicals") %}
      {% set continueURL="/manage/team-members/invite-user/chemicals/add-user-roles-service-roles" %}
    {% endif %}

    {% if (data['numServices'] == 3) and (data['service'] == "Chemicals") %}
      {% set continueURL="/manage/team-members/invite-user/chemicals/add-user-service" %}
    {% endif %}

    {% if (data['numServices'] == 1) and (data['service'] == "VMD") %}
    {% set continueURL = "/manage/team-members/invite-user/enrollment-confirmation" %}
    {% endif %}

    {% if (data['numServices'] == 3) and (data['service'] == "VMD") %}
      {% set continueURL="/manage/team-members/invite-user/vmd/add-user-service" %}
    {% endif %}

    {% if (data['numServices'] == 1) and (data['service'] == "Exports") %}
    {% set continueURL = "/manage/team-members/invite-user/enrollment-confirmation" %}
    {% endif %}

    {% if (data['numServices'] == 3) and (data['service'] == "Exports") %}
      {% set continueURL="/manage/team-members/invite-user/exports/add-user-service" %}
    {% endif %}


      <form action="{{ continueURL }}" method="post">
        <input type="hidden" name="subscribeService" value="Yes">
        <input type="hidden" name="serviceRole" value="Standard">


        {% if (data['service'] == "Imports") or (data['service'] == "VMD") or (data['service'] == "Exports") %}

          {{ govukRadios ({
            idPrefix: "systemRole",
            name: "systemRole",
            fieldset: {
              legend: {
                text: title,
                isPageHeading: true,
                classes: "govuk-fieldset__legend--xl"
              }
            },
            items: [
              {
                value: "Administrator",
                html: 'Administrator - this person can view and edit the information the service holds about your organisation. They can also manage other people\'s access to services.',
                checked:  checked('systemRole','Administrator')
              },
              {
                value: "None",
                html: 'None - this person has no extra responsibilities, they can only perform the tasks you choose within a specific service.',
                checked:  checked('systemRole','None')
              }
            ]
          }) }}

        {% endif %}

        {% if data['service'] == "Chemicals"%}

          {{ govukRadios ({
            idPrefix: "systemRole",
            name: "systemRole",
            fieldset: {
              legend: {
                text: title,
                isPageHeading: true,
                classes: "govuk-fieldset__legend--xl"
              }
            },
            items: [
              {
                value: "Administrator",
                html: 'Administrator - this person can view and edit the information the service holds about your organisation. They can also manage other people\'s access to services.',
                checked:  checked('systemRole','Administrator')
              },
              {
                value: "Reader",
                html: 'Reader - this person can view a list of the services your organisation is registered to use, and the people who can access the services. A reader cannot view, edit or submit any information on behalf of your organisation.',
                checked:  checked('systemRole','Reader')
              },
              {
                value: "None",
                html: 'None - this person has no extra responsibilities, they can only perform the tasks you choose within a specific service.',
                checked:  checked('systemRole','None')
              }
            ]
          }) }}


        {% endif %}

        {{ govukButton({
          text: "Continue"
        }) }}



      </form>
    </div>
  </div>




{% endblock %}
