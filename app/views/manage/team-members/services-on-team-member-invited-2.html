{% extends "layout.html" %}

{% set title = "Team member" %}

{% block pageTitle %}
    {{title}} - GOV.UK
{% endblock %}

{% block beforeContent %}
  {% include "includes/account-nav-admin-corp-all-2.html" %}
  {% include "includes/breadcrumb-four-level-team-all-2.html" %}
{% endblock %}

{% block content %}

<div class="govuk-grid-row">
  <div class="govuk-grid-column-full">

    <h1 class="govuk-heading-xl">
      {{ data['personalFirstName'] }} {{ data['personalSurname'] }}
    </h1>
  </div>
</div>

<div class="govuk-grid-row">
  <div class="govuk-grid-column-two-thirds">
    <p class="govuk-body">
      <span class="govuk-!-font-weight-bold">Full name:</span> {{ data['personalFirstName'] }} {{ data['personalSurname'] }}<br>
      <span class="govuk-!-font-weight-bold">Email address:</span> {{ data['businessEmail'] }}<br>
      <span class="govuk-!-font-weight-bold">Telephone:</span> {{ data['businessTelephone'] }}

    </p>
    <p class="govuk-body">
      <span class="govuk-!-font-weight-bold">Added on:</span> 10 July 2018<br>
      <span class="govuk-!-font-weight-bold">Last signed in:</span> Never
    </p>
  </div>
  <div class="govuk-grid-column-one-third">
    <p class="govuk-body"><a href="user-account" class="govuk-link--no-visited-state">Edit team member details</a></p>
    <p class="govuk-body"><a href="" class="govuk-link--no-visited-state">Reset password</a><br>
    <p class="govuk-body"><a href="" class="govuk-link--no-visited-state">Delete team member</a></p>
  </div>
</div>

<br>
{{ govukButton({
  text: "Give service access",
  href: "add-user-service/add-user-service"
}) }}

{% set setServiceNameHtml %}
    <span class="govuk-visually-hidden--desktop td-header">Service:</span> {{ data['serviceName'] }}
{% endset %}

{% set setOrgHtml %}
    <span class="govuk-visually-hidden--desktop td-header">Location:</span> {{ data['orgName'] }}
{% endset %}

{% set setServiceRoleHtml %}
    <span class="govuk-visually-hidden--desktop td-header">Role: </span> {{ data['serviceRole'] }}, {{ data['systemRole'] }}
{% endset %}

{{ govukTable({
  caption: "Access to services",
  captionClasses: "govuk-heading-l",
  firstCellIsHeader: false,
  head: [
    {
      html: 'Service',
      format: 'column-quarter column-full'

    },
    {
      html: 'Location',
      format: 'column-quarter column-full'

    },
    {
      html: 'Role',
      format: 'column-fifth column-full'

    },
    {
      html: '<span class="govuk-visually-hidden column-full">Action</span>',
      format: ''
    },
    {
      html: '<span class="govuk-visually-hidden column-full">Action</span>',
      format: ''
    }
  ],
  rows: [
  [
    {
      html: setServiceNameHtml
    },
    {
      html: setOrgHtml
    },
    {
      html: setServiceRoleHtml
    },
    {
      html: '<span class="govuk-visually-hidden--desktop td-header">Action:</span> <a href="add-user-service/add-user-roles-1" class="govuk-link--no-visited-state">Change role <span class="govuk-visually-hidden">to [Service name]</span></a>'
    },
    {
      html: '<span class="govuk-visually-hidden--desktop td-header">Action:</span> <a href="#" class="govuk-link--no-visited-state">Remove access <span class="govuk-visually-hidden">to [Service name]</span></a>'
    }
  ]

  ]
}) }}

{% endblock %}
