{% extends "layout.html" %}

{% set title = "What type of account do you want to create?" %}

{% block pageTitle %}
    {{title}} - GOV.UK
{% endblock %}

{% block beforeContent %}
  {% include "includes/account-nav-admin-reg.html" %}
  {{ govukBackLink({
    text: "Back",
    href: "javascript:history.back()"
  }) }}

{% endblock %}


{% block content %}

<div class="govuk-grid-row">
  <div class="govuk-grid-column-two-thirds">

    <form method="post" class="acc-type" onsubmit="return myFunction()">

      <script>
        const form = document.querySelector('.acc-type')

        function myFunction() {
          const checked = document.querySelector('[name="orgType"]:checked')
          const checkedValue = checked.value

          switch(checkedValue){
            case 'Business':
            form.action = 'organisation-business-type'

            break;
            default:
            form.action = '../../individual/task-list-page-account'
          }
          return true
        }
      </script>

        {{ govukRadios({
          idPrefix: "orgType",
          name: "orgType",
          fieldset: {
            legend: {
              text: title,
              isPageHeading: true,
              classes: "govuk-fieldset__legend--xl"
            }
          },

          items: [
            {
              value: "Business",
              html: ' <span class="govuk-body govuk-!-font-weight-bold">A business account</span><br>
                      I own or represent (including as a sole trader) the business or organisation that wants to use this service.',
              checked:  checked('orgType','Business')

            },
            {
              value: "Personal",
              html: ' <span class="govuk-body govuk-!-font-weight-bold">A personal account</span><br>
                      I want to use this service as an individual. I do not own or represent a relevant business or organisation.',
              checked:  checked('orgType','Personal')
            }

          ]
        }) }}


        {{ govukButton({
          text: "Continue"
        }) }}

      </form>
    </div>
  </div>

{% endblock %}
